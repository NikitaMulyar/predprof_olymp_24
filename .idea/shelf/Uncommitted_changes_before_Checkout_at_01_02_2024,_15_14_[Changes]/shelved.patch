Index: get_company_info.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from moexalgo import Ticker\nimport pandas as pd\nfrom datetime import date, timedelta\nfrom consts import moex_periods\n\n\ndef get_info(company, period, total):\n    minutes = 0\n    if period == 'MIN':\n        minutes = total\n    elif period == 'H':\n        minutes = total * 60\n    elif period == 'D':\n        minutes = total * 60 * 24\n    elif period == 'W':\n        minutes = total * 60 * 24 * 7\n    elif period == 'M':\n        minutes = total * 60 * 24 * 30\n    elif period == 'Q':\n        minutes = total * 60 * 24 * 92\n    tick = Ticker(company)\n    today = date.today()\n    fromday = today - timedelta(minutes=minutes) - timedelta(minutes=60 * 24 * 95)  # Вычитаем квартал\n    df = pd.DataFrame(tick.candles(date=fromday, till_date=today, period=moex_periods[period]))\n    df = df[:total]\n    df = df[['begin', 'open', 'close', 'high', 'low', 'value', 'volume', 'end']]\n    df.set_index('begin', inplace=True)\n    # df.rename(columns={'volume': 'quantity'})\n    df.to_csv(f'csv_files/{company}.csv')\n\n\nif __name__ == '__main__':\n    get_info('MOEX', 'D', 300)
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/get_company_info.py b/get_company_info.py
--- a/get_company_info.py	(revision 0d79f03cd042334ba3745878d56b64f7703fd120)
+++ b/get_company_info.py	(date 1706789322466)
@@ -30,4 +30,4 @@
 
 
 if __name__ == '__main__':
-    get_info('MOEX', 'D', 300)
\ No newline at end of file
+    get_info('KUBE', 'D', 600)
